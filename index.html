<!DOCTYPE html>
<html>
   <head>
   <!-- script de A-Frane version1 1.0.0 -->
   <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
   <!-- script de AR.JS con soporte de marker + location -->
   <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
   <script src="gesture-detector.js"></script>
       <script src="gesture-handler.js"></script>
   </head>

   <body style="margin : 0px; overflow: hidden;">

         <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false; detectionMode:
mono_and_matrix; matrixCodeType: 3x3;"
        renderer="logarithmicDepthBuffer: true;" vr-mode-ui="enabled: false" gesture-detector

id="scene">

    <a-assets>

     <a-asset-item id="modelo" src="modelos/bat-wing_1989.glb" timeout="10000"></a-asset-item>
    <a-asset-item id="modelo2" src="modelos/batmobil_car.glb" timeout="10000"></a-asset-item>

    <audio id="BatmanNolan" src="audios/BatmanNolan.mp3" preload="auto"></audio>
    </a-assets>

    <a-marker type="barcode" value="5" raycaster="objects: .clickable" emitevents="true"
    cursor="fuse: false; rayOrigin: mouse;">
    <a-entity
        gltf-model="#modelo" scale="0.304 0.279 0.355" rotation="-90 -90 90" class="clickable"
        gesture-handler sound="src: #BatmanNolan; autoplay: false; volume: 1">
    </a-entity>
            <a-entity text="value: Batman;"></a-entity>
    </a-marker>

    <a-marker type="barcode" value="10" raycaster="objects: .clickable" emitevents="true"
    cursor="fuse: false; rayOrigin: mouse;">
    <a-entity
        gltf-model="#modelo2" scale="0.304 0.279 0.355" rotation="-180 -90 90" class="clickable"
        gesture-handler
        sound="src: #BatmanNolan; autoplay: false; volume: 1">
    </a-entity>
    </a-marker>

                    <a-entity camera></a-entity>

             </a-scene>

             <script>
                var delfinAudio = document.getElementById('BatmanNolan');
                var sarcosuchusAudio = document.getElementById('BatmanNolan');
    
               
                document.querySelector('[value="5"]').addEventListener('markerFound', function () {
                    delfinAudio.play();
                });
    
                
                document.querySelector('[value="5"]').addEventListener('markerLost', function () {
                    delfinAudio.pause();
                    delfinAudio.currentTime = 0; // reiniciar el audio desde el inicio
                });
    
                
                document.querySelector('[value="10"]').addEventListener('markerFound', function () {
                    sarcosuchusAudio.play();
                });
    
              
                document.querySelector('[value="10"]').addEventListener('markerLost', function () {
                    sarcosuchusAudio.pause();
                    sarcosuchusAudio.currentTime = 0;
                });
            </script>
    </body>
</html>